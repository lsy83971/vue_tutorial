import pandas as pd
import json

df = pd.read_pickle("/home/lsy/Documents/ZYD_WEIBO_AKMODELV2.pkl")
tkey = "month"

df["week"]. keys()

df["month"]. keys()

df["month"]["授信"]. keys()

df["month"]["AUC_KS"]. keys()
pd.DataFrame.from_dict(json.loads(df["month"]["AUC_KS"]["分渠道分月份指标监控_AUC，KS"]))
pd.DataFrame.from_dict({"a": [1, 2]})

sgg = df["month"]["AUC_KS"]
df[tkey]["用信"]. keys()
def j2df(x):
    return pd.DataFrame.from_dict(json.loads(x))


def yx(x):
    return df[tkey]["用信"]


class mp():
    

months = pd.Series(gg().columns)
months = months[~months.apply(lambda x:re.search(re_month, x)).isnull()]
cols = ["channel"] + months.tolist()
channels = j2df(yx(df)['分渠道分月份指标监控_通过人数(cnt)'])["channel"]. drop_duplicates()

import re
re.search(, '1232-12')

gg(df["month"]["用信"]['分渠道分月份指标监控_稳定性(psi)'])

gg(df["month"]["用信"]['分渠道分月份指标监控_稳定性(psi)'])


df['month']

gg(jk['总体渠道分月指标监控_通过人数(cnt)'])
jk. keys()

gg(jk['总体渠道、月份指标监控']).head(1).T
jk.keys()

gg(jk["总体月份分渠道指标监控"]).head(1).T

gg(jk['总体渠道、月份指标监控'])
gg(jk["总体月份分渠道指标监控"]).shape


gg(jk['分渠道分月份指标监控_稳定性(psi)'])['channel']. value_counts()
gg(jk['总体渠道分月指标监控_稳定性(psi)'])


jk.keys()
gg(jk['总体月份分渠道指标监控'])
gg(jk['总体月份分渠道指标监控_稳定性(psi)'])

gg(jk['总体月份分渠道指标监控_通过率(pass_rate)']).head(1).T
gg(jk['总体渠道、月份指标监控']).head(1).T

sgg.keys()

gg(sgg["分渠道分月份指标监控_AUC，KS"])
gg(sgg['总体月份分渠道指标监控_AUC，KS'])

gg(jk['总体渠道、月份指标监控'])

sgg.keys()

gg(sgg['分渠道分月份指标监控_AUC，KS'])
gg(sgg['总体渠道分月指标监控_AUC，KS'])



mp.d[tkey]["AUC_KS"]. keys()
mp.d[tkey]. keys()


mp.d[tkey]["AUC_KS"]. keys()
mp.d[tkey]["授信"]. keys()

sb = pd.DataFrame([[1, 2], [3, 4]]).T.to_dict()


sb

list(yx(mp.d).values())[0]. head(1).T
pd.DataFrame([[1, 2], [3, 4]])
